"use strict";exports.id=666,exports.ids=[666],exports.modules={86666:(t,e,i)=>{i.d(e,{t:()=>s});var o=i(99715),a=i(48228),n=i(85525);let s=(0,o.Ue)()((0,a.tJ)((t,e)=>({user:null,token:null,isLoading:!1,isAuthenticated:!1,initialize:()=>{let i=e();i.token&&i.user?(localStorage.setItem("token",i.token),t({isAuthenticated:!0,isLoading:!1})):(localStorage.removeItem("token"),t({user:null,token:null,isAuthenticated:!1,isLoading:!1}))},login:async e=>{t({isLoading:!0});try{let i=await n.iJ.login(e);localStorage.setItem("token",i.token),t({user:i.user,token:i.token,isAuthenticated:!0,isLoading:!1})}catch(e){throw t({isLoading:!1}),e}},register:async e=>{t({isLoading:!0});try{await n.iJ.register(e),t({isLoading:!1})}catch(e){throw t({isLoading:!1}),e}},logout:async()=>{try{await n.iJ.logout()}catch(t){}finally{localStorage.removeItem("token"),t({user:null,token:null,isAuthenticated:!1,isLoading:!1})}},setUser:e=>{t({user:e,isAuthenticated:!0})},setLoading:e=>{t({isLoading:e})}}),{name:"auth-store",partialize:t=>({user:t.user,token:t.token,isAuthenticated:t.isAuthenticated}),onRehydrateStorage:()=>t=>{t&&t.initialize()}}))}};