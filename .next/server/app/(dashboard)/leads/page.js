(()=>{var e={};e.id=926,e.ids=[926],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},60723:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>d.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>g,tree:()=>i});var s=a(67096),r=a(16132),l=a(37284),d=a.n(l),n=a(32564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let i=["",{children:["(dashboard)",{children:["leads",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,79904)),"C:\\Users\\papcy\\Desktop\\Leads\\Frontend\\src\\app\\(dashboard)\\leads\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,68012)),"C:\\Users\\papcy\\Desktop\\Leads\\Frontend\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,6348)),"C:\\Users\\papcy\\Desktop\\Leads\\Frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\papcy\\Desktop\\Leads\\Frontend\\src\\app\\(dashboard)\\leads\\page.tsx"],x="/(dashboard)/leads/page",u={require:a,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/leads/page",pathname:"/leads",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},59188:(e,t,a)=>{Promise.resolve().then(a.bind(a,45210))},45210:(e,t,a)=>{"use strict";a.r(t),a.d(t,{LeadsTable:()=>LeadsTable});var s=a(30784),r=a(9885),l=a(96215),d=a(29769),n=a(14155),o=a(43128),i=a(36595),c=a(37930),x=a(5805),u=a(93341),g=a(38891),h=a(15276),p=a(87065),m=a(11440),y=a.n(m),b=a(85525);let j={not_contacted:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",contacted:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",qualified:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",unqualified:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",converted:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"},getScoreColor=e=>e>=80?"text-green-600 dark:text-green-400":e>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";function LeadsTable(){let[e,t]=(0,r.useState)([]),[a,m]=(0,r.useState)(!0),[f,v]=(0,r.useState)(null),[N,k]=(0,r.useState)(""),[w,_]=(0,r.useState)("all"),[C,L]=(0,r.useState)("all"),[q,S]=(0,r.useState)([]),[P,Z]=(0,r.useState)("created_at"),[D,A]=(0,r.useState)("desc");(0,r.useEffect)(()=>{loadLeads()},[]);let loadLeads=async()=>{m(!0),v(null);try{let e=await b.fn.getAll(),a=e.leads||e.data||[];t(a)}catch(e){v(e.response?.data?.message||e.message||"Failed to load leads")}finally{m(!1)}},F=Array.from(new Set(e.map(e=>e.industry).filter(Boolean))),U=e.filter(e=>{let t=e.email||e.phone;if(!t)return!1;let a=e.name?.toLowerCase().includes(N.toLowerCase())||e.company_name?.toLowerCase().includes(N.toLowerCase())||e.email?.toLowerCase().includes(N.toLowerCase()),s="all"===w||e.contact_status===w,r="all"===C||e.industry===C;return a&&s&&r}).sort((e,t)=>{let a=e[P],s=t[P];return"string"==typeof a&&"string"==typeof s?"asc"===D?a.localeCompare(s):s.localeCompare(a):"number"==typeof a&&"number"==typeof s?"asc"===D?a-s:s-a:0}),handleSort=e=>{e===P?A("asc"===D?"desc":"asc"):(Z(e),A("asc"))},toggleLeadSelection=e=>{S(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},updateLeadStatus=async(e,a)=>{try{await b.fn.update(e,{contact_status:a}),t(t=>t.map(t=>t.id===e?{...t,contact_status:a}:t))}catch(e){alert("Failed to update lead status")}},deleteLead=async e=>{if(confirm("Are you sure you want to delete this lead?"))try{await b.fn.delete(e),t(t=>t.filter(t=>t.id!==e)),S(t=>t.filter(t=>t!==e))}catch(e){alert("Failed to delete lead")}};return a?s.jsx("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),s.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):f?s.jsx("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-red-800 font-medium",children:"Error Loading Leads"}),s.jsx("p",{className:"text-red-600 text-sm",children:f}),s.jsx("button",{onClick:loadLeads,className:"mt-2 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"Retry"})]})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Leads"}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:[U.length," contactable leads (from ",e.length," total)"]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:loadLeads,className:"flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"\uD83D\uDD04 Refresh"}),(0,s.jsxs)("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(l.Z,{className:"h-4 w-4"}),"Export"]}),s.jsx(y(),{href:"/generate",className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Generate More"})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search leads...",value:N,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),(0,s.jsxs)("select",{value:w,onChange:e=>_(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"not_contacted",children:"Not Contacted"}),s.jsx("option",{value:"contacted",children:"Contacted"}),s.jsx("option",{value:"qualified",children:"Qualified"}),s.jsx("option",{value:"unqualified",children:"Unqualified"}),s.jsx("option",{value:"converted",children:"Converted"})]}),(0,s.jsxs)("select",{value:C,onChange:e=>L(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Industries"}),F.map(e=>s.jsx("option",{value:e,children:e},e))]}),q.length>0&&(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[s.jsx(n.Z,{className:"h-4 w-4"}),"Tag (",q.length,")"]}),(0,s.jsxs)("button",{className:"flex items-center gap-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 px-3 py-2 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors",children:[s.jsx(o.Z,{className:"h-4 w-4"}),"Delete"]})]})]})}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left",children:s.jsx("input",{type:"checkbox",checked:q.length===U.length&&U.length>0,onChange:()=>{S(q.length===U.length?[]:U.map(e=>e.id))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 dark:text-white cursor-pointer",onClick:()=>handleSort("company_name"),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["Company","company_name"===P&&s.jsx(i.Z,{className:`h-4 w-4 transform ${"asc"===D?"rotate-180":""}`})]})}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Location"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Website"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Contact"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 dark:text-white cursor-pointer",onClick:()=>handleSort("lead_score"),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["Score","lead_score"===P&&s.jsx(i.Z,{className:`h-4 w-4 transform ${"asc"===D?"rotate-180":""}`})]})}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 dark:text-white",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900 dark:text-white cursor-pointer",onClick:()=>handleSort("created_at"),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["Created","created_at"===P&&s.jsx(i.Z,{className:`h-4 w-4 transform ${"asc"===D?"rotate-180":""}`})]})}),s.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:U.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:q.includes(e.id),onChange:()=>toggleLeadSelection(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),s.jsx("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:e.company_name||"No company"}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.industry||"No industry"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:e.city||"No location"})}),s.jsx("td",{className:"px-6 py-4",children:e.website?(0,s.jsxs)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:underline text-sm",children:[s.jsx(c.Z,{className:"h-3 w-3"}),"Visit"]}):s.jsx("span",{className:"text-gray-400 text-sm",children:"No website"})}),s.jsx("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"space-y-1",children:[e.email&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(x.Z,{className:"h-3 w-3 text-gray-400"}),s.jsx("a",{href:`mailto:${e.email}`,className:"text-blue-600 hover:underline",children:e.email})]}),e.phone&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(u.Z,{className:"h-3 w-3 text-gray-400"}),s.jsx("a",{href:`tel:${e.phone}`,className:"text-gray-600 dark:text-gray-300",children:e.phone})]})]})}),s.jsx("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-lg font-bold ${getScoreColor(e.lead_score||0)}`,children:e.lead_score||0}),s.jsx("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((t,a)=>s.jsx(g.Z,{className:`h-3 w-3 ${a<Math.floor((e.lead_score||0)/20)?"text-yellow-400 fill-current":"text-gray-300"}`},a))})]})}),s.jsx("td",{className:"px-6 py-4",children:(0,s.jsxs)("select",{value:e.contact_status||"not_contacted",onChange:t=>updateLeadStatus(e.id,t.target.value),className:`px-3 py-1 rounded-full text-xs font-medium border-0 ${j[e.contact_status]||j.not_contacted}`,children:[s.jsx("option",{value:"not_contacted",children:"Not Contacted"}),s.jsx("option",{value:"contacted",children:"Contacted"}),s.jsx("option",{value:"qualified",children:"Qualified"}),s.jsx("option",{value:"unqualified",children:"Unqualified"}),s.jsx("option",{value:"converted",children:"Converted"})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:e.created_at?new Date(e.created_at).toLocaleDateString():"No date"}),s.jsx("td",{className:"px-6 py-4 text-right",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[s.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:s.jsx(h.Z,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",children:s.jsx(x.Z,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(p.Z,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>deleteLead(e.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:s.jsx(o.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})}),0===U.length&&!a&&(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(d.Z,{className:"h-12 w-12 mx-auto"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No leads found"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:0===e.length?"Start by generating some leads":"Try adjusting your search or filter criteria"}),0===e.length&&s.jsx(y(),{href:"/generate",className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"âš¡ Generate Your First Leads"})]})]})]})}},79904:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>LeadsPage});var s=a(4656),r=a(95153);let l=(0,r.createProxy)(String.raw`C:\Users\papcy\Desktop\Leads\Frontend\src\components\leads\leads-table.tsx`),{__esModule:d,$$typeof:n}=l;l.default;let o=(0,r.createProxy)(String.raw`C:\Users\papcy\Desktop\Leads\Frontend\src\components\leads\leads-table.tsx#LeadsTable`);function LeadsPage(){return s.jsx("div",{className:"space-y-6",children:s.jsx(o,{})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[53,707,440,317,54,164,939,130,666,972],()=>__webpack_exec__(60723));module.exports=a})();