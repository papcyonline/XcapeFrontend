(()=>{var e={};e.id=903,e.ids=[903],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},50772:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>g,tree:()=>o});var s=r(67096),a=r(16132),d=r(37284),l=r.n(d),i=r(32564),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let o=["",{children:["(dashboard)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,58055)),"C:\\Users\\papcy\\Desktop\\Leads\\Frontend\\src\\app\\(dashboard)\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,68012)),"C:\\Users\\papcy\\Desktop\\Leads\\Frontend\\src\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6348)),"C:\\Users\\papcy\\Desktop\\Leads\\Frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\papcy\\Desktop\\Leads\\Frontend\\src\\app\\(dashboard)\\dashboard\\page.tsx"],x="/(dashboard)/dashboard/page",u={require:r,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},26006:(e,t,r)=>{Promise.resolve().then(r.bind(r,64617))},64617:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>DashboardPage});var s=r(30784),a=r(9885),d=r(11440),l=r.n(d),i=r(86666),n=r(85525);function DashboardPage(){let{user:e,setUser:t}=(0,i.t)(),[r,d]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),[x,u]=(0,a.useState)(null);(0,a.useEffect)(()=>{loadDashboardData()},[]);let loadDashboardData=async()=>{c(!0),u(null);try{let[r,s,a,l,i]=await Promise.allSettled([n.Yu.getOverview(),n.Yu.getStatusDistribution(),n.Yu.getIndustryBreakdown(),n.Yu.getRecentActivity(5),n.BG.getProfile()]),o={overview:"fulfilled"===r.status?r.value.data:{},userStats:"fulfilled"===s.status?s.value.data:{},allLeads:[],recentLeads:"fulfilled"===l.status?l.value.data:[]};"fulfilled"===i.status&&i.value?.data&&t({...e,...i.value.data}),d(o)}catch(e){u(e.response?.data?.message||e.message||"Failed to load dashboard")}finally{c(!1)}};if(o)return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(e=>s.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"},e))})]});if(x)return s.jsx("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-red-800 font-medium",children:"Dashboard Error"}),s.jsx("p",{className:"text-red-600 text-sm",children:x}),s.jsx("button",{onClick:loadDashboardData,className:"mt-2 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"Retry"})]})});let g=r?.overview||{},m=r?.userStats||{},h=g.total_leads||0,b=g.leads_this_month||0,p=g.conversion_rate||0,y=g.avg_lead_score||0,j=e?.leads_quota||100,f=e?.leads_used||g.quota_usage?.used||0,v=f/j*100,N=v>=80,k=v>=100;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Dashboard"}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:["Welcome back, ",e?.full_name||"User","! Here's what's happening with your leads."]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(l(),{href:"/generate",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors inline-flex items-center",children:"⚡ Generate Leads"}),s.jsx("button",{onClick:loadDashboardData,className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"\uD83D\uDD04 Refresh"})]})]}),e&&s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:["Current Plan: ",s.jsx("span",{className:"capitalize",children:e.subscription_plan||"free"})]}),(0,s.jsxs)("p",{className:"text-blue-700 dark:text-blue-200 text-sm",children:["You've used ",f," of ",j," leads this month"]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(l(),{href:"/pricing",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"enterprise"===e.subscription_plan?"Manage Plan":"Upgrade Plan"})})]})}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Leads"}),s.jsx("span",{className:"text-gray-400",children:"\uD83D\uDC65"})]}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:h}),(0,s.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["+",b," this month"]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Conversion Rate"}),s.jsx("span",{className:"text-gray-400",children:"\uD83D\uDCC8"})]}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:[p,"%"]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Based on lead statuses"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Quota Usage"}),s.jsx("span",{className:"text-gray-400",children:"\uD83C\uDFAF"})]}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:[Math.round(v),"%"]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${k?"bg-red-600":N?"bg-yellow-500":"bg-blue-600"}`,style:{width:`${Math.min(v,100)}%`}})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[f," / ",j," leads used"]}),N&&s.jsx(l(),{href:"/pricing",className:"text-xs text-blue-600 hover:text-blue-500 font-medium",children:k?"Upgrade Now":"Upgrade"})]}),k&&s.jsx("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded text-xs text-red-700 dark:text-red-400",children:"⚠️ Quota exceeded! Upgrade to generate more leads."})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Avg Lead Score"}),s.jsx("span",{className:"text-gray-400",children:"⭐"})]}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:y}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Out of 100 points"})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Lead Status Breakdown"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-5",children:[{status:"Not Contacted",key:"not_contacted",color:"bg-gray-500"},{status:"Contacted",key:"contacted",color:"bg-blue-500"},{status:"Qualified",key:"qualified",color:"bg-yellow-500"},{status:"Unqualified",key:"unqualified",color:"bg-red-500"},{status:"Converted",key:"converted",color:"bg-green-500"}].map(({status:e,key:t,color:r})=>{let a=m[t]||0,d=Object.values(m).reduce((e,t)=>e+(t||0),0);return(0,s.jsxs)("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("div",{className:`w-4 h-4 ${r} rounded-full mx-auto mb-2`}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:[d>0?Math.round(a/d*100):0,"%"]})]},t)})})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsxs)(l(),{href:"/generate",className:"flex flex-col items-center p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[s.jsx("span",{className:"text-2xl mb-2",children:"⚡"}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Generate New Leads"})]}),(0,s.jsxs)(l(),{href:"/campaigns",className:"flex flex-col items-center p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[s.jsx("span",{className:"text-2xl mb-2",children:"\uD83D\uDCE7"}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Create Campaign"})]}),(0,s.jsxs)(l(),{href:"/import-export",className:"flex flex-col items-center p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[s.jsx("span",{className:"text-2xl mb-2",children:"\uD83D\uDCE5"}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Import Leads"})]})]})]}),r&&r.recentLeads&&r.recentLeads.length>0&&(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Leads"}),s.jsx(l(),{href:"/leads",className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"View All →"})]}),s.jsx("div",{className:"space-y-3",children:r.recentLeads.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.company_name||"No company"}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-300",children:[(0,s.jsxs)("span",{children:["Status: ",e.status||"not_contacted"]}),(0,s.jsxs)("span",{children:["Source: ",e.source]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-sm text-gray-500",children:e.timestamp?new Date(e.timestamp).toLocaleDateString():"No date"})})]},e.lead_id))})]})]})}},58055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>d,default:()=>n});var s=r(95153);let a=(0,s.createProxy)(String.raw`C:\Users\papcy\Desktop\Leads\Frontend\src\app\(dashboard)\dashboard\page.tsx`),{__esModule:d,$$typeof:l}=a,i=a.default,n=i}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[53,707,440,317,54,939,130,666,972],()=>__webpack_exec__(50772));module.exports=r})();