(()=>{var e={};e.id=277,e.ids=[277],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},97987:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>l});var t=r(67096),a=r(16132),o=r(37284),n=r.n(o),d=r(32564),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);r.d(s,i);let l=["",{children:["(auth)",{children:["reset-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,58510)),"C:\\Users\\papcy\\Desktop\\Leads\\Frontend\\src\\app\\(auth)\\reset-password\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,73951)),"C:\\Users\\papcy\\Desktop\\Leads\\Frontend\\src\\app\\(auth)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6348)),"C:\\Users\\papcy\\Desktop\\Leads\\Frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\papcy\\Desktop\\Leads\\Frontend\\src\\app\\(auth)\\reset-password\\page.tsx"],u="/(auth)/reset-password/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth)/reset-password/page",pathname:"/reset-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},90167:(e,s,r)=>{Promise.resolve().then(r.bind(r,88161))},88161:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>ResetPasswordPage});var t=r(30784),a=r(9885),o=r(57114),n=r(66558),d=r(83894),i=r(75830),l=r(88533),c=r(36088),u=r(15276),p=r(85928),x=r(11440),m=r.n(x),g=r(85525);let h=i.Ry({password:i.Z_().min(6,"Password must be at least 6 characters"),confirmPassword:i.Z_().min(6,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function ResetPasswordPage(){let[e,s]=(0,a.useState)(!1),[r,i]=(0,a.useState)(!1),[x,w]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[f,k]=(0,a.useState)(null),j=(0,o.useRouter)();(0,o.useSearchParams)();let{register:P,handleSubmit:v,formState:{errors:N},setError:_}=(0,n.cI)({resolver:(0,d.F)(h)});(0,a.useEffect)(()=>{let e=window.location.hash.substring(1),s=new URLSearchParams(e),r=s.get("access_token"),t=s.get("refresh_token");console.log("\uD83D\uDD11 Reset password tokens:",{hasAccess:!!r,hasRefresh:!!t}),r&&t?k({access_token:r,refresh_token:t}):_("root",{message:"Invalid reset link. Please request a new password reset email."})},[_]);let onSubmit=async e=>{if(!f){_("root",{message:"Invalid reset link. Please request a new password reset email."});return}w(!0);try{console.log("\uD83D\uDD10 Resetting password..."),await g.iJ.resetPassword({password:e.password,access_token:f.access_token,refresh_token:f.refresh_token}),console.log("✅ Password reset successful"),y(!0),setTimeout(()=>{j.push("/login?message=password_updated")},3e3)}catch(e){console.error("❌ Password reset failed:",e),_("root",{message:e.response?.data?.message||e.message||"Failed to reset password. Please try again."})}finally{w(!1)}};return b?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:t.jsx("div",{className:"w-full max-w-md mx-auto",children:t.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900/30 mb-4",children:t.jsx(l.Z,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Password Updated!"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Your password has been successfully updated. You can now sign in with your new password."}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Redirecting to sign in page..."})]})})})}):t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:t.jsx("div",{className:"w-full max-w-md mx-auto",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Reset Your Password"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Enter your new password below."})]}),(0,t.jsxs)("form",{onSubmit:v(onSubmit),className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{id:"password",type:e?"text":"password",...P("password"),className:`w-full px-3 py-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white ${N.password?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter your new password"}),t.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:()=>s(!e),children:e?t.jsx(c.Z,{className:"h-4 w-4 text-gray-400"}):t.jsx(u.Z,{className:"h-4 w-4 text-gray-400"})})]}),N.password&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:N.password.message})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm New Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("input",{id:"confirmPassword",type:r?"text":"password",...P("confirmPassword"),className:`w-full px-3 py-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white ${N.confirmPassword?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Confirm your new password"}),t.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:()=>i(!r),children:r?t.jsx(c.Z,{className:"h-4 w-4 text-gray-400"}):t.jsx(u.Z,{className:"h-4 w-4 text-gray-400"})})]}),N.confirmPassword&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:N.confirmPassword.message})]}),N.root&&t.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/10 p-3",children:t.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:N.root.message})}),(0,t.jsxs)("button",{type:"submit",disabled:x||!f,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:[x&&t.jsx(p.Z,{className:"mr-2 h-4 w-4 animate-spin"}),x?"Updating Password...":"Update Password"]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx(m(),{href:"/login",className:"text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Back to sign in"})})]})})})}},58510:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>o,default:()=>i});var t=r(95153);let a=(0,t.createProxy)(String.raw`C:\Users\papcy\Desktop\Leads\Frontend\src\app\(auth)\reset-password\page.tsx`),{__esModule:o,$$typeof:n}=a,d=a.default,i=d}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[53,525,440,827,484,939,130,451],()=>__webpack_exec__(97987));module.exports=r})();