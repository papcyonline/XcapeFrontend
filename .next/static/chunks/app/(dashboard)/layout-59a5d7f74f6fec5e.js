(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{78718:function(e,t,a){Promise.resolve().then(a.bind(a,66573))},66573:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return DashboardLayout}});var s=a(57437),r=a(2265),n=a(24033),l=a(61396),i=a.n(l),o=a(60345),d=a(63492),c=a(9787),u=a(6773),g=a(56788),f=a(58144),m=a(37029),p=a(60026),h=a(78499),x=a(88971),b=a(74213),y=a(26546),j=a(3089),v=a(92785);let N=[{name:"Dashboard",href:"/dashboard",icon:d.Z},{name:"Generate Leads",href:"/generate",icon:c.Z},{name:"Leads",href:"/leads",icon:u.Z},{name:"Analytics",href:"/analytics",icon:g.Z},{name:"Campaigns",href:"/campaigns",icon:f.Z},{name:"Tags",href:"/tags",icon:m.Z},{name:"Import/Export",href:"/import-export",icon:p.Z},{name:"Pricing",href:"/pricing",icon:h.Z},{name:"Settings",href:"/settings",icon:x.Z}];function Sidebar(){let[e,t]=(0,r.useState)(!1),a=(0,n.usePathname)(),{user:l}=(0,v.t)();return(0,s.jsxs)("div",{className:(0,o.cn)("flex h-screen flex-col border-r bg-card transition-all duration-300",e?"w-16":"w-64"),children:[(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between px-4",children:[!e&&(0,s.jsx)("h1",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"XcapeLeads"}),(0,s.jsx)(j.z,{variant:"ghost",size:"sm",onClick:()=>t(!e),className:"h-8 w-8 p-0 hover:bg-gray-100 dark:hover:bg-gray-700",children:e?(0,s.jsx)(b.Z,{className:"h-4 w-4"}):(0,s.jsx)(y.Z,{className:"h-4 w-4"})})]}),(0,s.jsx)("nav",{className:"flex-1 space-y-2 px-3 py-4",children:N.map(t=>{let r=a===t.href,n=t.icon,d="Pricing"===t.name;return(0,s.jsxs)(i(),{href:t.href,className:(0,o.cn)("flex items-center rounded-lg px-3 py-3 text-base font-medium transition-colors",r?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":d?"text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",e&&"justify-center"),children:[(0,s.jsx)(n,{className:(0,o.cn)("h-6 w-6",!e&&"mr-3")}),!e&&(0,s.jsxs)("span",{className:"flex items-center justify-between w-full",children:[t.name,d&&(null==l?void 0:l.subscription_plan)!=="enterprise"&&(0,s.jsx)("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-0.5 rounded-full",children:"Upgrade"})]})]},t.name)})}),!e&&l&&(0,s.jsx)("div",{className:"border-t p-4 space-y-3",children:(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Current Plan"}),(0,s.jsx)("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:l.subscription_plan||"free"})]}),l.leads_quota&&(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,s.jsx)("span",{children:"Leads Used"}),(0,s.jsxs)("span",{children:[l.leads_used||0,"/",l.leads_quota]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:(0,s.jsx)("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:"".concat(Math.min((l.leads_used||0)/l.leads_quota*100,100),"%")}})})]})]})}),(0,s.jsx)("div",{className:"border-t p-4",children:(0,s.jsx)("div",{className:(0,o.cn)("text-sm text-gray-500 dark:text-gray-400",e&&"text-center"),children:e?"\xa9":"\xa9 2025 LeadsGen"})})]})}var w=a(73835),k=a(98557),Z=a(66474),L=a(99839),_=a(66486);let z=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});z.displayName="Input";var S=a(61465);let R=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.fC,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});R.displayName=S.fC.displayName;let C=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.Ee,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",a),...r})});C.displayName=S.Ee.displayName;let P=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(S.NY,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});P.displayName=S.NY.displayName;var T=a(90561),A=a(23408),U=a(92757);let I=T.fC,E=T.xz;T.ZA,T.Uv,T.Tr,T.Ee;let J=r.forwardRef((e,t)=>{let{className:a,inset:r,children:n,...l}=e;return(0,s.jsxs)(T.fF,{ref:t,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",a),...l,children:[n,(0,s.jsx)(b.Z,{className:"ml-auto h-4 w-4"})]})});J.displayName=T.fF.displayName;let q=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(T.tu,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})});q.displayName=T.tu.displayName;let B=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,s.jsx)(T.Uv,{children:(0,s.jsx)(T.VY,{ref:t,sideOffset:r,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});B.displayName=T.VY.displayName;let D=r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(T.ck,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",a),...n})});D.displayName=T.ck.displayName;let F=r.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...l}=e;return(0,s.jsxs)(T.oC,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(T.wU,{children:(0,s.jsx)(A.Z,{className:"h-4 w-4"})})}),r]})});F.displayName=T.oC.displayName;let G=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(T.Rk,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(T.wU,{children:(0,s.jsx)(U.Z,{className:"h-2 w-2 fill-current"})})}),r]})});G.displayName=T.Rk.displayName;let Y=r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(T.__,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})});Y.displayName=T.__.displayName;let O=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(T.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});O.displayName=T.Z0.displayName;var V=a(27814);let H={free:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",starter:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",professional:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",enterprise:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"},M={free:"Free",starter:"Starter",professional:"Professional",enterprise:"Enterprise"};function Header(){let{user:e,logout:t}=(0,v.t)(),a=(0,n.useRouter)(),handleLogout=async()=>{await t(),a.push("/login")},r=(null==e?void 0:e.subscription_plan)||"free",l=M[r]||"Free",i=H[r]||H.free;return(0,s.jsxs)("header",{className:"flex h-16 items-center justify-between border-b bg-white dark:bg-gray-800 px-6",children:[(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(w.Z,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),(0,s.jsx)(z,{placeholder:"Search leads, campaigns...",className:"w-80 pl-10 text-base"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(i," flex items-center gap-1"),children:["enterprise"===r&&(0,s.jsx)(k.Z,{className:"h-3 w-3"}),l," Plan"]}),(0,s.jsx)(V.ThemeToggle,{}),(0,s.jsxs)(j.z,{variant:"ghost",size:"sm",className:"relative",children:[(0,s.jsx)(Z.Z,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-red-500"})]}),(0,s.jsxs)(I,{children:[(0,s.jsx)(E,{asChild:!0,children:(0,s.jsx)(j.z,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,s.jsx)(R,{className:"h-10 w-10",children:(0,s.jsx)(P,{className:"bg-blue-600 text-white text-base font-medium",children:(null==e?void 0:e.full_name)?(0,o.Qm)(e.full_name):"U"})})})}),(0,s.jsxs)(B,{className:"w-64",align:"end",forceMount:!0,children:[(0,s.jsx)(Y,{className:"font-normal",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("p",{className:"text-base font-medium leading-none",children:null==e?void 0:e.full_name}),(0,s.jsx)("p",{className:"text-sm leading-none text-gray-600 dark:text-gray-400",children:null==e?void 0:e.email})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"px-2 py-1 rounded text-xs font-medium ".concat(i),children:[l," Plan"]}),(null==e?void 0:e.leads_quota)&&(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[e.leads_used||0,"/",e.leads_quota," leads"]})]})]})}),(0,s.jsx)(O,{}),(0,s.jsxs)(D,{onClick:()=>a.push("/settings"),className:"text-base",children:[(0,s.jsx)(L.Z,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Profile & Settings"})]}),"enterprise"!==r&&(0,s.jsxs)(D,{onClick:()=>a.push("/pricing"),className:"text-base",children:[(0,s.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Upgrade Plan"})]}),(0,s.jsxs)(D,{onClick:()=>a.push("/pricing"),className:"text-base",children:[(0,s.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Billing & Usage"})]}),(0,s.jsx)(O,{}),(0,s.jsxs)(D,{onClick:handleLogout,className:"text-base text-red-600 dark:text-red-400",children:[(0,s.jsx)(_.Z,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Log out"})]})]})]})]})]})}function DashboardLayout(e){let{children:t}=e,{isAuthenticated:a,isLoading:l,initialize:i}=(0,v.t)(),o=(0,n.useRouter)(),[d,c]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{c(!0),i()},[i]),(0,r.useEffect)(()=>{!d||l||a||o.push("/login")},[a,l,o,d]),!d||l)?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,s.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Loading..."})]})}):a?(0,s.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsx)(Sidebar,{}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,s.jsx)(Header,{}),(0,s.jsx)("main",{className:"flex-1 overflow-auto p-6 bg-gray-50 dark:bg-gray-900",children:t})]})]}):null}},27814:function(e,t,a){"use strict";a.r(t),a.d(t,{ThemeToggle:function(){return ThemeToggle}});var s=a(57437);a(2265);var r=a(96724),n=a(36796),l=a(6435),i=a(3089);function ThemeToggle(){let{theme:e,setTheme:t}=(0,l.F)();return(0,s.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>t("light"===e?"dark":"light"),className:"h-9 w-9 px-0",children:[(0,s.jsx)(r.Z,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(n.Z,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}},3089:function(e,t,a){"use strict";a.d(t,{z:function(){return d}});var s=a(57437),r=a(2265),n=a(67256),l=a(96061),i=a(60345);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100",secondary:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600",ghost:"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:r,size:l,className:a})),ref:t,...c})});d.displayName="Button"},6454:function(e,t,a){"use strict";a.d(t,{BG:function(){return l},Yu:function(){return o},fn:function(){return i},iJ:function(){return n}});var s=a(54829);let r=s.Z.create({baseURL:"https://xcape.onrender.com",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),r.interceptors.response.use(e=>e,e=>{var t,a,s;if((null===(t=e.response)||void 0===t?void 0:t.status)===401){let t=null===(s=e.config)||void 0===s?void 0:null===(a=s.url)||void 0===a?void 0:a.includes("/api/auth/");t||(localStorage.removeItem("token"),window.location.href="/login")}return Promise.reject(e)});let n={login:e=>r.post("/api/auth/login",e).then(e=>e.data),register:e=>r.post("/api/auth/register",e).then(e=>e.data),logout:()=>r.post("/api/auth/logout").then(e=>e.data),getProfile:()=>r.get("/api/users/profile").then(e=>e.data),updateProfile:e=>r.put("/api/users/profile",e).then(e=>e.data),forgotPassword:e=>r.post("/api/auth/forgot-password",{email:e}).then(e=>e.data),resetPassword:e=>r.post("/api/auth/reset-password",e).then(e=>e.data)},l={getProfile:()=>r.get("/api/users/profile").then(e=>e.data),updateProfile:e=>r.put("/api/users/profile",e).then(e=>e.data),getStats:()=>r.get("/api/users/stats").then(e=>e.data)},i={generateJob:e=>r.post("/api/leads/generate-job",e).then(e=>e.data),getJobStatus:e=>r.get("/api/leads/job/".concat(e,"/status")).then(e=>e.data),getUserJobs:()=>r.get("/api/leads/jobs").then(e=>e.data),generate:e=>r.post("/api/leads/generate",e).then(e=>e.data),getGenerationStatus:e=>r.get("/api/leads/status/".concat(e)).then(e=>e.data),getAll:e=>r.get("/api/leads",{params:e}).then(e=>e.data),getById:e=>r.get("/api/leads/".concat(e)).then(e=>e.data),update:(e,t)=>r.put("/api/leads/".concat(e),t).then(e=>e.data),delete:e=>r.delete("/api/leads/".concat(e)).then(e=>e.data),getTags:()=>r.get("/api/tags").then(e=>e.data),createTag:e=>r.post("/api/tags",e).then(e=>e.data),updateTag:(e,t)=>r.put("/api/tags/".concat(e),t).then(e=>e.data),deleteTag:e=>r.delete("/api/tags/".concat(e)).then(e=>e.data),tagLead:(e,t)=>r.post("/api/tags/".concat(t,"/leads/").concat(e)).then(e=>e.data),untagLead:(e,t)=>r.delete("/api/tags/".concat(t,"/leads/").concat(e)).then(e=>e.data)},o={getOverview:()=>r.get("/api/analytics/overview").then(e=>e.data),getStatusDistribution:()=>r.get("/api/analytics/status-distribution").then(e=>e.data),getSourceBreakdown:()=>r.get("/api/analytics/source-breakdown").then(e=>e.data),getIndustryBreakdown:()=>r.get("/api/analytics/industry-breakdown").then(e=>e.data),getDailyStats:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return r.get("/api/analytics/daily-stats",{params:{days:e}}).then(e=>e.data)},getGeographicDistribution:()=>r.get("/api/analytics/geographic-distribution").then(e=>e.data),getScoreDistribution:()=>r.get("/api/analytics/score-distribution").then(e=>e.data),getRecentActivity:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return r.get("/api/analytics/recent-activity",{params:{limit:e}}).then(e=>e.data)}}},60345:function(e,t,a){"use strict";a.d(t,{Qm:function(){return getInitials},cn:function(){return cn}});var s=a(57042),r=a(74769);function cn(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}function getInitials(e){return e.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2)}},92785:function(e,t,a){"use strict";a.d(t,{t:function(){return l}});var s=a(94660),r=a(74810),n=a(6454);let l=(0,s.Ue)()((0,r.tJ)((e,t)=>({user:null,token:null,isLoading:!1,isAuthenticated:!1,initialize:()=>{let a=t();a.token&&a.user?(localStorage.setItem("token",a.token),e({isAuthenticated:!0,isLoading:!1})):(localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1,isLoading:!1}))},login:async t=>{e({isLoading:!0});try{let a=await n.iJ.login(t);localStorage.setItem("token",a.token),e({user:a.user,token:a.token,isAuthenticated:!0,isLoading:!1})}catch(t){throw e({isLoading:!1}),t}},register:async t=>{e({isLoading:!0});try{await n.iJ.register(t),e({isLoading:!1})}catch(t){throw e({isLoading:!1}),t}},logout:async()=>{try{await n.iJ.logout()}catch(e){}finally{localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1,isLoading:!1})}},setUser:t=>{e({user:t,isAuthenticated:!0})},setLoading:t=>{e({isLoading:t})}}),{name:"auth-store",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated}),onRehydrateStorage:()=>e=>{e&&e.initialize()}}))}},function(e){e.O(0,[737,396,166,187,18,971,472,744],function(){return e(e.s=78718)}),_N_E=e.O()}]);