(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{66431:function(e,t,a){Promise.resolve().then(a.bind(a,82843))},82843:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return AnalyticsPage}});var s=a(57437),r=a(2265),d=a(45253),l=a(90045),i=a(16573),n=a(24235),c=a(50039),o=a(86812),x=a(79857),g=a(51125),h=a(57703),u=a(28485),m=a(36612),b=a(44909),y=a(31346),p=a(6773),j=a(95779),v=a(18652),f=a(3464),N=a(79799),w=a(62374),k=a(11666),D=a(6454);let S=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16"];function AnalyticsCharts(){var e,t,a;let[_,B]=(0,r.useState)("14"),[C,A]=(0,r.useState)(null),[Z,L]=(0,r.useState)(!0),[P,R]=(0,r.useState)(null);(0,r.useEffect)(()=>{loadAnalyticsData()},[_]);let loadAnalyticsData=async()=>{L(!0),R(null);try{let[e,t,a,s,r,d]=await Promise.allSettled([D.Yu.getOverview(),D.Yu.getStatusDistribution(),D.Yu.getIndustryBreakdown(),D.Yu.getDailyStats(parseInt(_)),D.Yu.getGeographicDistribution(),D.Yu.getScoreDistribution()]),l={overview:"fulfilled"===e.status?e.value.data:{},statusDistribution:"fulfilled"===t.status?t.value.data:{},industryBreakdown:"fulfilled"===a.status?a.value.data:[],dailyStats:"fulfilled"===s.status?s.value.data:[],geographicDistribution:"fulfilled"===r.status?r.value.data:[],scoreDistribution:"fulfilled"===d.status?d.value.data:{}};A(l)}catch(e){R(e.message||"Failed to load analytics")}finally{L(!1)}};if(Z)return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(e=>(0,s.jsx)("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded-xl animate-pulse"},e))}),(0,s.jsx)("div",{className:"grid gap-8 lg:grid-cols-2",children:[1,2,3,4].map(e=>(0,s.jsx)("div",{className:"h-96 bg-gray-200 dark:bg-gray-700 rounded-xl animate-pulse"},e))})]});if(P)return(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-red-800 font-medium",children:"Analytics Error"}),(0,s.jsx)("p",{className:"text-red-600 text-sm",children:P}),(0,s.jsx)("button",{onClick:loadAnalyticsData,className:"mt-2 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:"Retry"})]});let T=(null==C?void 0:C.overview)||{},F=(null==C?void 0:C.statusDistribution)||{},K=(null==C?void 0:C.industryBreakdown)||[],E=(null==C?void 0:C.dailyStats)||[],q=(null==C?void 0:C.geographicDistribution)||[],G=(null==C?void 0:C.scoreDistribution)||{},I=Object.entries(F).map(e=>{let[t,a]=e;return{status:t.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase()),count:a}}),O=[{range:"80-100",count:G.high||0},{range:"40-79",count:G.medium||0},{range:"0-39",count:G.low||0}];return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-300",children:"Total Leads"}),(0,s.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,s.jsx)(p.Z,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:T.total_leads||0}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(j.Z,{className:"h-4 w-4 text-green-500"}),(0,s.jsxs)("span",{className:"text-green-600 dark:text-green-400",children:["+",T.leads_this_month||0]}),(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"this month"})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-300",children:"Conversion Rate"}),(0,s.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,s.jsx)(v.Z,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]}),(0,s.jsxs)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[T.conversion_rate||0,"%"]}),(0,s.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,s.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:["Contact rate: ",T.contact_rate||0,"%"]})})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-300",children:"Avg Lead Score"}),(0,s.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,s.jsx)(f.Z,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})})]}),(0,s.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:T.avg_lead_score||0}),(0,s.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,s.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Out of 100"})})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-base font-semibold text-gray-700 dark:text-gray-300",children:"Quota Usage"}),(0,s.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,s.jsx)(v.Z,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]}),(0,s.jsxs)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:[(null===(e=T.quota_usage)||void 0===e?void 0:e.percentage)||0,"%"]}),(0,s.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,s.jsxs)("span",{className:"text-gray-500 dark:text-gray-400",children:[(null===(t=T.quota_usage)||void 0===t?void 0:t.used)||0," / ",(null===(a=T.quota_usage)||void 0===a?void 0:a.total)||100]})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Performance Analytics"}),(0,s.jsx)("div",{className:"flex gap-2",children:[{label:"7D",value:"7"},{label:"14D",value:"14"},{label:"30D",value:"30"},{label:"90D",value:"90"}].map(e=>(0,s.jsx)("button",{onClick:()=>B(e.value),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat(_===e.value?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:e.label},e.value))})]}),(0,s.jsxs)("div",{className:"grid gap-8 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Daily Leads Trend"}),(0,s.jsx)(N.Z,{className:"h-5 w-5 text-gray-400"})]}),E.length>0?(0,s.jsx)(d.h,{width:"100%",height:300,children:(0,s.jsxs)(l.T,{data:E,children:[(0,s.jsx)(i.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,s.jsx)(n.K,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}),className:"text-sm"}),(0,s.jsx)(c.B,{className:"text-sm"}),(0,s.jsx)(o.u,{labelFormatter:e=>new Date(e).toLocaleDateString(),contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,s.jsx)(x.D,{}),(0,s.jsx)(g.u,{type:"monotone",dataKey:"leads_generated",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.6,name:"Generated"})]})}):(0,s.jsx)("div",{className:"h-300 flex items-center justify-center text-gray-500 dark:text-gray-400",children:"No daily data available"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Lead Status Distribution"}),(0,s.jsx)(v.Z,{className:"h-5 w-5 text-gray-400"})]}),I.length>0?(0,s.jsx)(d.h,{width:"100%",height:300,children:(0,s.jsxs)(h.u,{children:[(0,s.jsx)(u.b,{data:I,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:2,dataKey:"count",children:I.map((e,t)=>(0,s.jsx)(m.b,{fill:S[t%S.length]},"cell-".concat(t)))}),(0,s.jsx)(o.u,{formatter:(e,t)=>["".concat(e," leads"),t],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,s.jsx)(x.D,{})]})}):(0,s.jsx)("div",{className:"h-300 flex items-center justify-center text-gray-500 dark:text-gray-400",children:"No status data available"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Industry Breakdown"}),(0,s.jsx)(p.Z,{className:"h-5 w-5 text-gray-400"})]}),K.length>0?(0,s.jsx)(d.h,{width:"100%",height:300,children:(0,s.jsxs)(b.v,{data:K,layout:"horizontal",children:[(0,s.jsx)(i.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,s.jsx)(n.K,{type:"number",className:"text-sm"}),(0,s.jsx)(c.B,{dataKey:"industry",type:"category",width:80,className:"text-sm"}),(0,s.jsx)(o.u,{formatter:e=>["".concat(e," leads"),"Count"],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,s.jsx)(y.$,{dataKey:"count",fill:"#3B82F6",radius:[0,4,4,0]})]})}):(0,s.jsx)("div",{className:"h-300 flex items-center justify-center text-gray-500 dark:text-gray-400",children:"No industry data available"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Lead Score Distribution"}),(0,s.jsx)(f.Z,{className:"h-5 w-5 text-gray-400"})]}),(0,s.jsx)(d.h,{width:"100%",height:300,children:(0,s.jsxs)(b.v,{data:O,children:[(0,s.jsx)(i.q,{strokeDasharray:"3 3",className:"opacity-30"}),(0,s.jsx)(n.K,{dataKey:"range",className:"text-sm"}),(0,s.jsx)(c.B,{className:"text-sm"}),(0,s.jsx)(o.u,{formatter:e=>["".concat(e," leads"),"Count"],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,s.jsx)(y.$,{dataKey:"count",fill:"#10B981",radius:[4,4,0,0]})]})})]})]}),q.length>0&&(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Geographic Distribution"}),(0,s.jsx)(w.Z,{className:"h-5 w-5 text-gray-400"})]}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:q.slice(0,8).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900 dark:text-white",children:e.location}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.count," leads"]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:[e.percentage,"%"]}),(0,s.jsx)("div",{className:"w-16 h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300",style:{width:"".concat(e.percentage,"%")}})})]})]},t))})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Performance Summary"}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full mb-4",children:(0,s.jsx)(k.Z,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:T.avg_lead_score||0}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average Lead Score"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full mb-4",children:(0,s.jsx)(j.Z,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:T.leads_this_week||0}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Leads This Week"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-full mb-4",children:(0,s.jsx)(p.Z,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:T.total_leads||0}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Leads Generated"})]})]})]})]})}var _=a(79915),B=a(68492);function AnalyticsPage(){return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Analytics Dashboard"}),(0,s.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300 mt-2",children:"Track your lead generation performance and conversion metrics"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("button",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[(0,s.jsx)(_.Z,{className:"h-4 w-4"}),"Refresh"]}),(0,s.jsxs)("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(B.Z,{className:"h-4 w-4"}),"Export Report"]})]})]}),(0,s.jsx)(AnalyticsCharts,{})]})}},6454:function(e,t,a){"use strict";a.d(t,{BG:function(){return l},Yu:function(){return n},fn:function(){return i},iJ:function(){return d}});var s=a(54829);let r=s.Z.create({baseURL:"http://192.168.1.231:9876",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),r.interceptors.response.use(e=>e,e=>{var t,a,s;if((null===(t=e.response)||void 0===t?void 0:t.status)===401){let t=null===(s=e.config)||void 0===s?void 0:null===(a=s.url)||void 0===a?void 0:a.includes("/api/auth/");t||(localStorage.removeItem("token"),window.location.href="/login")}return Promise.reject(e)});let d={login:e=>r.post("/api/auth/login",e).then(e=>e.data),register:e=>r.post("/api/auth/register",e).then(e=>e.data),logout:()=>r.post("/api/auth/logout").then(e=>e.data),getProfile:()=>r.get("/api/users/profile").then(e=>e.data),updateProfile:e=>r.put("/api/users/profile",e).then(e=>e.data),forgotPassword:e=>r.post("/api/auth/forgot-password",{email:e}).then(e=>e.data),resetPassword:e=>r.post("/api/auth/reset-password",e).then(e=>e.data)},l={getProfile:()=>r.get("/api/users/profile").then(e=>e.data),updateProfile:e=>r.put("/api/users/profile",e).then(e=>e.data),getStats:()=>r.get("/api/users/stats").then(e=>e.data)},i={generateJob:e=>r.post("/api/leads/generate-job",e).then(e=>e.data),getJobStatus:e=>r.get("/api/leads/job/".concat(e,"/status")).then(e=>e.data),getUserJobs:()=>r.get("/api/leads/jobs").then(e=>e.data),generate:e=>r.post("/api/leads/generate",e).then(e=>e.data),getGenerationStatus:e=>r.get("/api/leads/status/".concat(e)).then(e=>e.data),getAll:e=>r.get("/api/leads",{params:e}).then(e=>e.data),getById:e=>r.get("/api/leads/".concat(e)).then(e=>e.data),update:(e,t)=>r.put("/api/leads/".concat(e),t).then(e=>e.data),delete:e=>r.delete("/api/leads/".concat(e)).then(e=>e.data),getTags:()=>r.get("/api/tags").then(e=>e.data),createTag:e=>r.post("/api/tags",e).then(e=>e.data),updateTag:(e,t)=>r.put("/api/tags/".concat(e),t).then(e=>e.data),deleteTag:e=>r.delete("/api/tags/".concat(e)).then(e=>e.data),tagLead:(e,t)=>r.post("/api/tags/".concat(t,"/leads/").concat(e)).then(e=>e.data),untagLead:(e,t)=>r.delete("/api/tags/".concat(t,"/leads/").concat(e)).then(e=>e.data)},n={getOverview:()=>r.get("/api/analytics/overview").then(e=>e.data),getStatusDistribution:()=>r.get("/api/analytics/status-distribution").then(e=>e.data),getSourceBreakdown:()=>r.get("/api/analytics/source-breakdown").then(e=>e.data),getIndustryBreakdown:()=>r.get("/api/analytics/industry-breakdown").then(e=>e.data),getDailyStats:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return r.get("/api/analytics/daily-stats",{params:{days:e}}).then(e=>e.data)},getGeographicDistribution:()=>r.get("/api/analytics/geographic-distribution").then(e=>e.data),getScoreDistribution:()=>r.get("/api/analytics/score-distribution").then(e=>e.data),getRecentActivity:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return r.get("/api/analytics/recent-activity",{params:{limit:e}}).then(e=>e.data)}}}},function(e){e.O(0,[737,818,971,472,744],function(){return e(e.s=66431)}),_N_E=e.O()}]);