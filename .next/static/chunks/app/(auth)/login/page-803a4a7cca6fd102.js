(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{69303:function(e,t,a){Promise.resolve().then(a.bind(a,86138))},86138:function(e,t,a){"use strict";a.r(t),a.d(t,{LoginForm:function(){return LoginForm}});var s=a(57437),r=a(2265),n=a(24033),i=a(61865),o=a(38110),d=a(92160),l=a(66794),c=a(81184),u=a(61023),g=a(61396),h=a.n(g),p=a(92785),m=a(97823);let x=d.Ry({email:d.Z_().email("Invalid email address"),password:d.Z_().min(6,"Password must be at least 6 characters")});function LoginForm(){let[e,t]=(0,r.useState)(!1),[a,d]=(0,r.useState)(!1),g=(0,n.useRouter)(),{login:y,isLoading:b}=(0,p.t)(),{register:f,handleSubmit:v,formState:{errors:w},setError:k}=(0,i.cI)({resolver:(0,o.F)(x)}),onSubmit=async e=>{try{await y(e),g.push("/dashboard")}catch(e){var t,a;k("root",{message:(null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Login failed. Please try again."})}},handleGoogleLogin=async()=>{d(!0);try{let{error:e}=await m.O.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});e&&k("root",{message:"Google login failed. Please try again."})}catch(e){k("root",{message:"Google login failed. Please try again."})}finally{d(!1)}};return(0,s.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Sign In"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Enter your credentials to access your account"})]}),(0,s.jsxs)("button",{onClick:handleGoogleLogin,disabled:a||b,className:"w-full mb-4 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 py-2 px-4 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[a?(0,s.jsx)(l.Z,{className:"h-4 w-4 animate-spin"}):(0,s.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,s.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),a?"Signing in...":"Continue with Google"]}),(0,s.jsxs)("div",{className:"relative mb-4",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or continue with email"})})]}),(0,s.jsxs)("form",{onSubmit:v(onSubmit),className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,s.jsx)("input",{id:"email",type:"email",...f("email"),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white ".concat(w.email?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"john@example.com"}),w.email&&(0,s.jsx)("p",{className:"text-sm text-red-500 mt-1",children:w.email.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),(0,s.jsx)(h(),{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500 hover:underline",children:"Forgot password?"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"password",type:e?"text":"password",...f("password"),className:"w-full px-3 py-2 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white ".concat(w.password?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter your password"}),(0,s.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:()=>t(!e),children:e?(0,s.jsx)(c.Z,{className:"h-4 w-4 text-gray-400"}):(0,s.jsx)(u.Z,{className:"h-4 w-4 text-gray-400"})})]}),w.password&&(0,s.jsx)("p",{className:"text-sm text-red-500 mt-1",children:w.password.message})]}),w.root&&(0,s.jsx)("div",{className:"rounded-md bg-red-50 dark:bg-red-900/10 p-3",children:(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:w.root.message})}),(0,s.jsxs)("button",{type:"submit",disabled:b||a,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:[b&&(0,s.jsx)(l.Z,{className:"mr-2 h-4 w-4 animate-spin"}),b?"Signing In...":"Sign In"]})]}),(0,s.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-600 dark:text-gray-300",children:["Don't have an account?"," ",(0,s.jsx)(h(),{href:"/register",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Sign up"})]})]})})}},6454:function(e,t,a){"use strict";a.d(t,{BG:function(){return i},Yu:function(){return d},fn:function(){return o},iJ:function(){return n}});var s=a(54829);let r=s.Z.create({baseURL:"https://xcape.onrender.com",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),r.interceptors.response.use(e=>e,e=>{var t,a,s;if((null===(t=e.response)||void 0===t?void 0:t.status)===401){let t=null===(s=e.config)||void 0===s?void 0:null===(a=s.url)||void 0===a?void 0:a.includes("/api/auth/");t||(localStorage.removeItem("token"),window.location.href="/login")}return Promise.reject(e)});let n={login:e=>r.post("/api/auth/login",e).then(e=>e.data),register:e=>r.post("/api/auth/register",e).then(e=>e.data),logout:()=>r.post("/api/auth/logout").then(e=>e.data),getProfile:()=>r.get("/api/users/profile").then(e=>e.data),updateProfile:e=>r.put("/api/users/profile",e).then(e=>e.data),forgotPassword:e=>r.post("/api/auth/forgot-password",{email:e}).then(e=>e.data),resetPassword:e=>r.post("/api/auth/reset-password",e).then(e=>e.data)},i={getProfile:()=>r.get("/api/users/profile").then(e=>e.data),updateProfile:e=>r.put("/api/users/profile",e).then(e=>e.data),getStats:()=>r.get("/api/users/stats").then(e=>e.data)},o={generateJob:e=>r.post("/api/leads/generate-job",e).then(e=>e.data),getJobStatus:e=>r.get("/api/leads/job/".concat(e,"/status")).then(e=>e.data),getUserJobs:()=>r.get("/api/leads/jobs").then(e=>e.data),generate:e=>r.post("/api/leads/generate",e).then(e=>e.data),getGenerationStatus:e=>r.get("/api/leads/status/".concat(e)).then(e=>e.data),getAll:e=>r.get("/api/leads",{params:e}).then(e=>e.data),getById:e=>r.get("/api/leads/".concat(e)).then(e=>e.data),update:(e,t)=>r.put("/api/leads/".concat(e),t).then(e=>e.data),delete:e=>r.delete("/api/leads/".concat(e)).then(e=>e.data),getTags:()=>r.get("/api/tags").then(e=>e.data),createTag:e=>r.post("/api/tags",e).then(e=>e.data),updateTag:(e,t)=>r.put("/api/tags/".concat(e),t).then(e=>e.data),deleteTag:e=>r.delete("/api/tags/".concat(e)).then(e=>e.data),tagLead:(e,t)=>r.post("/api/tags/".concat(t,"/leads/").concat(e)).then(e=>e.data),untagLead:(e,t)=>r.delete("/api/tags/".concat(t,"/leads/").concat(e)).then(e=>e.data)},d={getOverview:()=>r.get("/api/analytics/overview").then(e=>e.data),getStatusDistribution:()=>r.get("/api/analytics/status-distribution").then(e=>e.data),getSourceBreakdown:()=>r.get("/api/analytics/source-breakdown").then(e=>e.data),getIndustryBreakdown:()=>r.get("/api/analytics/industry-breakdown").then(e=>e.data),getDailyStats:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return r.get("/api/analytics/daily-stats",{params:{days:e}}).then(e=>e.data)},getGeographicDistribution:()=>r.get("/api/analytics/geographic-distribution").then(e=>e.data),getScoreDistribution:()=>r.get("/api/analytics/score-distribution").then(e=>e.data),getRecentActivity:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return r.get("/api/analytics/recent-activity",{params:{limit:e}}).then(e=>e.data)}}},97823:function(e,t,a){"use strict";a.d(t,{O:function(){return o}});var s=a(1492),r=a(62601);let n=r.env.NEXT_PUBLIC_SUPABASE_URL,i=r.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,o=(0,s.eI)(n,i)},92785:function(e,t,a){"use strict";a.d(t,{t:function(){return i}});var s=a(94660),r=a(74810),n=a(6454);let i=(0,s.Ue)()((0,r.tJ)((e,t)=>({user:null,token:null,isLoading:!1,isAuthenticated:!1,initialize:()=>{let a=t();a.token&&a.user?(localStorage.setItem("token",a.token),e({isAuthenticated:!0,isLoading:!1})):(localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1,isLoading:!1}))},login:async t=>{e({isLoading:!0});try{let a=await n.iJ.login(t);localStorage.setItem("token",a.token),e({user:a.user,token:a.token,isAuthenticated:!0,isLoading:!1})}catch(t){throw e({isLoading:!1}),t}},register:async t=>{e({isLoading:!0});try{await n.iJ.register(t),e({isLoading:!1})}catch(t){throw e({isLoading:!1}),t}},logout:async()=>{try{await n.iJ.logout()}catch(e){}finally{localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1,isLoading:!1})}},setUser:t=>{e({user:t,isAuthenticated:!0})},setLoading:t=>{e({isLoading:t})}}),{name:"auth-store",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated}),onRehydrateStorage:()=>e=>{e&&e.initialize()}}))},81184:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(17865);let r=(0,s.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},61023:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(17865);let r=(0,s.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},function(e){e.O(0,[737,396,166,492,536,971,472,744],function(){return e(e.s=69303)}),_N_E=e.O()}]);