(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[985],{12226:function(e,t,a){Promise.resolve().then(a.bind(a,15464))},15464:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ForgotPasswordPage}});var s=a(57437),r=a(2265),i=a(24033),n=a(61865),d=a(47705),o=a(92160),l=a(58144),c=a(17865);let g=(0,c.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var u=a(66794),m=a(61396),h=a.n(m),p=a(6454);let x=o.Ry({email:o.Z_().email("Invalid email address")});function ForgotPasswordPage(){let[e,t]=(0,r.useState)(!1),[a,o]=(0,r.useState)(!1);(0,i.useRouter)();let{register:c,handleSubmit:m,formState:{errors:y},setError:f,getValues:b}=(0,n.cI)({resolver:(0,d.F)(x)}),onSubmit=async e=>{t(!0);try{console.log("\uD83D\uDCE7 Sending reset email to:",e.email),await p.iJ.forgotPassword(e.email),console.log("✅ Reset email sent successfully"),o(!0)}catch(e){var a,s;console.error("❌ Failed to send reset email:",e),f("root",{message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||e.message||"Failed to send reset email. Please try again."})}finally{t(!1)}};return a?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,s.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900/30 mb-4",children:(0,s.jsx)(l.Z,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Check Your Email"}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:["We've sent a password reset link to"," ",(0,s.jsx)("strong",{className:"text-gray-900 dark:text-white",children:b("email")})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Didn't receive the email? Check your spam folder or try again."}),(0,s.jsx)("button",{onClick:()=>o(!1),className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"Try a different email address"})]})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)(h(),{href:"/login",className:"inline-flex items-center text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[(0,s.jsx)(g,{className:"h-4 w-4 mr-1"}),"Back to sign in"]})})]})})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,s.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Forgot Password?"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Enter your email address and we'll send you a link to reset your password."})]}),(0,s.jsxs)("form",{onSubmit:m(onSubmit),className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),(0,s.jsx)("input",{id:"email",type:"email",...c("email"),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white ".concat(y.email?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"john@example.com"}),y.email&&(0,s.jsx)("p",{className:"text-sm text-red-500 mt-1",children:y.email.message})]}),y.root&&(0,s.jsx)("div",{className:"rounded-md bg-red-50 dark:bg-red-900/10 p-3",children:(0,s.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:y.root.message})}),(0,s.jsxs)("button",{type:"submit",disabled:e,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:[e&&(0,s.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Sending Email...":"Send Reset Email"]})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)(h(),{href:"/login",className:"inline-flex items-center text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[(0,s.jsx)(g,{className:"h-4 w-4 mr-1"}),"Back to sign in"]})})]})})})}},6454:function(e,t,a){"use strict";a.d(t,{BG:function(){return n},Yu:function(){return o},fn:function(){return d},iJ:function(){return i}});var s=a(54829);let r=s.Z.create({baseURL:"http://192.168.1.231:9876",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),r.interceptors.response.use(e=>e,e=>{var t,a,s;if((null===(t=e.response)||void 0===t?void 0:t.status)===401){let t=null===(s=e.config)||void 0===s?void 0:null===(a=s.url)||void 0===a?void 0:a.includes("/api/auth/");t||(localStorage.removeItem("token"),window.location.href="/login")}return Promise.reject(e)});let i={login:e=>r.post("/api/auth/login",e).then(e=>e.data),register:e=>r.post("/api/auth/register",e).then(e=>e.data),logout:()=>r.post("/api/auth/logout").then(e=>e.data),getProfile:()=>r.get("/api/users/profile").then(e=>e.data),updateProfile:e=>r.put("/api/users/profile",e).then(e=>e.data),forgotPassword:e=>r.post("/api/auth/forgot-password",{email:e}).then(e=>e.data),resetPassword:e=>r.post("/api/auth/reset-password",e).then(e=>e.data)},n={getProfile:()=>r.get("/api/users/profile").then(e=>e.data),updateProfile:e=>r.put("/api/users/profile",e).then(e=>e.data),getStats:()=>r.get("/api/users/stats").then(e=>e.data)},d={generateJob:e=>r.post("/api/leads/generate-job",e).then(e=>e.data),getJobStatus:e=>r.get("/api/leads/job/".concat(e,"/status")).then(e=>e.data),getUserJobs:()=>r.get("/api/leads/jobs").then(e=>e.data),generate:e=>r.post("/api/leads/generate",e).then(e=>e.data),getGenerationStatus:e=>r.get("/api/leads/status/".concat(e)).then(e=>e.data),getAll:e=>r.get("/api/leads",{params:e}).then(e=>e.data),getById:e=>r.get("/api/leads/".concat(e)).then(e=>e.data),update:(e,t)=>r.put("/api/leads/".concat(e),t).then(e=>e.data),delete:e=>r.delete("/api/leads/".concat(e)).then(e=>e.data),getTags:()=>r.get("/api/tags").then(e=>e.data),createTag:e=>r.post("/api/tags",e).then(e=>e.data),updateTag:(e,t)=>r.put("/api/tags/".concat(e),t).then(e=>e.data),deleteTag:e=>r.delete("/api/tags/".concat(e)).then(e=>e.data),tagLead:(e,t)=>r.post("/api/tags/".concat(t,"/leads/").concat(e)).then(e=>e.data),untagLead:(e,t)=>r.delete("/api/tags/".concat(t,"/leads/").concat(e)).then(e=>e.data)},o={getOverview:()=>r.get("/api/analytics/overview").then(e=>e.data),getStatusDistribution:()=>r.get("/api/analytics/status-distribution").then(e=>e.data),getSourceBreakdown:()=>r.get("/api/analytics/source-breakdown").then(e=>e.data),getIndustryBreakdown:()=>r.get("/api/analytics/industry-breakdown").then(e=>e.data),getDailyStats:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return r.get("/api/analytics/daily-stats",{params:{days:e}}).then(e=>e.data)},getGeographicDistribution:()=>r.get("/api/analytics/geographic-distribution").then(e=>e.data),getScoreDistribution:()=>r.get("/api/analytics/score-distribution").then(e=>e.data),getRecentActivity:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return r.get("/api/analytics/recent-activity",{params:{limit:e}}).then(e=>e.data)}}},58144:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(17865);let r=(0,s.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])}},function(e){e.O(0,[737,396,536,971,472,744],function(){return e(e.s=12226)}),_N_E=e.O()}]);